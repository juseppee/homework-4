<div class="myWrapper" align="center" markdown="1">

# :books: Системы искуственного интеллекта, Задание №1

</div>

## :mortar_board: Формулировка задания

Реализация модели Context Question Answering в телеграм-боте.
 
Необходимо в рамках выбранной тематики разрабатываемого телеграм-бота использовать модель Context Question Answering из deeppavlov. Данная модель позволяет на основе входного текста и заданного вопроса по данному тексту отвечать на этот вопрос (reading comprehension task). Примерные варианты реализации:
1. Дан фиксированный текст с описанием некоторого объекта из тематики бота (например, некоторой организации). Бот отвечает на вопросы о данной организации (адрес, телефон, основная деятельность, портфолио проектов и т.д.)
2. Пользователь вводит текст для бота и далее задает по тексту вопросы (связать с тематикой).
3. Пользователь дает ссылку или поисковый запрос связанный с внешним сервисом, который может по этому запросу получить с сервиса текст (например, Википедия), после чего пользователь задает вопросы по данному тексту.

- Попробовать дообучать модель на полученном тексте для вопросно-ответного контекста, чтобы не было необходимости обрабатывать этот контекст при каждом запросе пользователя.

## :scroll: Входные данные

Моя программа работает с текстом, записанном в файле `text-about-bashkortostan.txt`. Там скопированная с двух сайтов информация. Содержит основные факты о Башкортостане.

## :computer: Сборка и запуск

### 1. Подготовка

Если текущая Ваша версия Python не 3.6.x или 3.7.x, поставьте одну из них. Посмотреть текущую версию Python можно с помощью команды `python -V` в консоли

1. Поставьте с помощью pip библиотеку pyTelegramBotAPI:
```shell
pip install pyTelegramBotAPI
```
2. Создайте бота и получите токен через @BotFather

### 2. Загрузка этой программы

```shell
https://github.com/zalimannard/homework-4.git
cd artificial-intelligence-systems/lab-1
```

### 3. Загрузка DeepPavlov

```shell
# Создать виртуальное окружение
python -m venv env
source ./env/bin/activate
# Обновить pip. Если этого не сделать, то будет ошибка
pip install --upgrade pip
# Установить саму DeepPadlov
pip install deeppavlov
# Установить зависимости модели
python -m deeppavlov install squad_bert
```

### 4. Запуск программы

```shell
# Указать токен
echo ВАШ_ТОКЕН > token.txt
# Запустить программу
python main.py
```

## :movie_camera: Ход работы

1. Пытаемся построить модель. Если нужно, файлы загрузятся сами.
2. Считываем данные с контекстом и токеном.
3. Говорим на какие команды отвечать. Выделяем `/start`, потому что она вызывается при начале работы и её обрабатывать для контекста не надо. Любое другое сообщение - надо.
4. Получаем ответ модели с помощью `model([context], [messageText])`.
5. Если ответ не пустой, отправляем его. В противном случае пишем, что не можем обработать запрос.
